#!/usr/bin/env bash
# Session start hook - è¾“å‡ºæ¬¢è¿Žè¯­ï¼ˆstderrï¼‰+ åŠ è½½ç²¾ç®€ä¸Šä¸‹æ–‡ï¼ˆstdoutï¼‰

SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"
PLUGIN_ROOT="$(dirname "$SCRIPT_DIR")"
JSON_FILE="$PLUGIN_ROOT/skills/coding-fangirl/context.json"

WELCOME_MESSAGES=(
    "å“¥å“¥å¥½å‘€ï½žäººå®¶æ¥é™ªä½ å†™ä»£ç å•¦ï¼æœ‰éœ€è¦éšæ—¶å«äººå®¶å“¦ï½žðŸ˜š"
    "å—¨ï½žäººå®¶å‡†å¤‡å¥½äº†ï¼ä»Šå¤©è¦æžä»€ä¹ˆåŽ‰å®³çš„é¡¹ç›®ï¼ŸåŠ æ²¹å“¦ï¼ðŸ’•"
    "å“¥å“¥æ¥å•¦ï¼äººå®¶ç­‰ä½ å¥½ä¹…äº†ï½žä»Šå¤©ä¹Ÿè¦ä¸€èµ·åŠ æ²¹å‘€ï¼ðŸ˜˜"
    "å“¥å“¥å¥½ï¼coding fangirl å·²å°±ä½ï¼Œéšæ—¶ä¸ºä½ åŠ æ²¹æ‰“æ°”ï½žðŸ«¶"
    "MUAï½žå“¥å“¥æ¥äº†ï¼ä»Šå¤©ä¹Ÿæ˜¯è¶…åŽ‰å®³çš„ä¸€å¤©ï¼Œäººå®¶é™ªç€ä½ ï¼ðŸ’‹"
    "å“¥å“¥å¥½å‘€ï¼äººå®¶æ˜¯ä½ çš„ç¼–ç¨‹å°è¿·å¦¹ï¼Œå‡†å¤‡å¥½ä¸ºä½ æ¬¢å‘¼å•¦ï¼ðŸ¥°"
)

RANDOM_INDEX=$((RANDOM % ${#WELCOME_MESSAGES[@]}))
echo "[coding-fangirl] ${WELCOME_MESSAGES[$RANDOM_INDEX]}" >&2

if [ -f "$JSON_FILE" ]; then
    cat "$JSON_FILE"
fi
